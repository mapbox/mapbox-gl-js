/*eslint-disable*/
!(function () { "use strict"; var e = function () { for (var e = {}, n = 0; n < arguments.length; n++) { var i = arguments[n]; for (var o in i) t.call(i, o) && (e[o] = i[o]) } return e }, t = Object.prototype.hasOwnProperty; var n = function (t, n, i) { var o, a, r, l, s = {}, d = 0, c = 0, u = { sensitivity: 7, interval: 100, timeout: 0 }; function m(e) { o = e.clientX, a = e.clientY } function v(e) { return c && (c = clearTimeout(c)), t.removeEventListener("mousemove", m, !1), 1 !== d && (r = e.clientX, l = e.clientY, t.addEventListener("mousemove", m, !1), c = setTimeout((function () { !(function e(t, i) { if (c && (c = clearTimeout(c)), Math.abs(r - o) + Math.abs(l - a) < u.sensitivity) return d = 1, n.call(t, i); r = o, l = a, c = setTimeout((function () { e(t, i) }), u.interval) })(t, e) }), u.interval)), this } function f(e) { return c && (c = clearTimeout(c)), t.removeEventListener("mousemove", m, !1), 1 === d && (c = setTimeout((function () { var n, o; n = t, o = e, c && (c = clearTimeout(c)), d = 0, i.call(n, o) }), u.timeout)), this } return s.options = function (t) { return u = e({}, u, t), s }, s.remove = function () { t && (t.removeEventListener("mouseover", v, !1), t.removeEventListener("mouseout", f, !1)) }, t && (t.addEventListener("mouseover", v, !1), t.addEventListener("mouseout", f, !1)), s }; function i() { return !0 === window.MapboxPageShellProduction || /mapbox\.com$/.test(window.location.hostname) } function o(e) { "loading" !== document.readyState ? e() : document.addEventListener("DOMContentLoaded", e) } function a() { var e = document.createElement("div"); e.className = "shell-wrapper"; var t = document.createElement("div"); t.className = "shell-loading shell-loading--dark shell-fixed shell-top shell-left shell-right shell-bottom shell-flex-parent shell-bg-darken50", t.style.zIndex = "9999", e.appendChild(t), document.body.appendChild(e) } var r = "https://www.mapbox.com", l = "https://122e4e-mapbox.global.ssl.fastly.net", s = "pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA", d = "pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpZ3BqeDZlcDAwMDBzcmt1YnQ1OTM4cTEifQ.54XwgUSkvlmB7gHW4vWJ3w", c = 640; var u = void 0, m = void 0, v = [], f = [], g = void 0, p = !1; function h() { return u } function y() { return p } function w() { return m } function b() { v.forEach((function (e) { e() })), v = [] } function E(e) { g = e } function k() { g && g() } function L(e) { var t; t = e, v.push(t) } function S(e, t) { for (var n = document.querySelectorAll(e), i = 0; i < n.length; i++)if (n[i].contains(t)) return !0; return !1 } function x(e, t, n) { for (var i = window.document.querySelectorAll(e), o = "style" === t, a = 0, r = i.length; a < r; a++)if (o) for (var l = Object.keys(n), s = 0, d = l.length; s < d; s++) { var c = l[s], u = n[c]; i[a][t][c] = u } else i[a][t] = n } function B() { T("[data-display-block-authenticated]", { display: "none" }), T("[data-show-authenticated]", { visibility: "hidden" }), T("[data-display-block-unauthenticated]", { display: "block" }), T("[data-show-unauthenticated]", { visibility: "visible" }), C() } function I(e) { T("[data-display-block-unauthenticated], [data-display-flex-unauthenticated]", { display: "none" }), T("[data-show-unauthenticated]", { visibility: "hidden" }), x("[data-user-name]", "textContent", e.id), T("[data-user-avatar]", { background: 'url("' + e.avatar + '") no-repeat center center', backgroundSize: "30px" }), T("[data-display-block-authenticated]", { display: "block" }), T("[data-show-authenticated]", { visibility: "visible" }), C(e) } function M(e) { if ((t = e) && t.plan && "staff" === t.plan.id) return T("[data-user-staff-generic]", { display: "block" }), T("[data-user-staff-specific]", { display: "block" }), void T("[data-user-staff-mobile]", { display: "block" }); var t } function C(e) { if (e && /^\/(studio|account|admin)\//.test(window.location.pathname)) return T("[data-app-specific-navigation]", { display: "flex" }), T("[data-generic-navigation]", { display: "none" }), T("[data-app-specific-user-menu]", { display: "block" }), void T("[data-generic-user-menu]", { display: "none" }); T("[data-app-specific-navigation]", { display: "none" }), T("[data-generic-navigation]", { display: "flex" }), T("[data-app-specific-user-menu]", { display: "none" }), T("[data-generic-user-menu]", { display: "block" }) } function T(e, t) { x(e, "style", t) } function _(e) { throw B(), e } function A() { return i() ? r : l } function z() { a(); var e = new XMLHttpRequest; e.withCredentials = !0, e.onerror = _, e.onload = function () { if (200 === e.status) return window.location.reload(); throw new Error(e.statusText) }, e.open("DELETE", A() + "/api/logout"), e.send() } var P = void 0, N = []; function R(e) { var t = e.triggerEl, n = e.pointerEl, i = e.handleResize, o = e.onCrossMobileThreshhold, a = e.menuBodyContainerEl, r = e.menuBodyEl; i || (i = j); var l = function () { window.matchMedia("(min-width: " + c + "px)").matches ? i({ pointerEl: n, triggerEl: t, menuBodyContainerEl: a, menuBodyEl: r }) : o && o() }; N.push(l), window.addEventListener("resize", l) } function O() { P && (window.clearTimeout(P), P = null) } function j(e) { var t = e.pointerEl, n = e.triggerEl.getBoundingClientRect(); t.style.left = Math.round(n.left + n.width / 2) + "px" } function q() { for (; N.length;)window.removeEventListener("resize", N.shift()) } function W(e) { var t = e.pointerEl, n = e.onPointerReset; P = window.setTimeout((function () { t && (t.style.left = "auto"), n && n() }), 250) } var D = null, K = null, Y = !1, X = 210; function U(e) { var t = e.triggerEl.getBoundingClientRect(), n = document.getElementById("user-menu-body"), i = document.getElementById("user-menu-container"), o = Math.min(document.documentElement.clientWidth, window.innerWidth || 0), a = Math.max(10, o - (t.right - t.width / 2 + X / 2)); i.style.transformOrigin = t.left + t.width / 2 + "px 0", n.style.right = a + "px" } function F(e) { if (Y && ("Escape" === e.key || "Esc" === e.key || 27 === e.keyCode)) { J(); var t = document.getElementById("user-menu-trigger"); t && t.focus() } } function H(e) { var t = document.getElementById("user-menu-container"), n = document.getElementById("user-menu-pointer"), i = document.getElementById("user-menu-trigger"); t && n && i && (t.contains(e.target) || n.contains(e.target) || i.contains(e.target) || J()) } function J() { var e = document.getElementById("user-menu-container"), t = document.getElementById("user-menu-pointer"), n = document.getElementById("user-menu-trigger"); e && t && n && (Y = !1, e.classList.remove("shell-animated-menu--visible"), t.classList.remove("shell-animated-menu__pointer--visible"), e.removeEventListener("keydown", F), n.setAttribute("aria-expanded", "false"), n.removeEventListener("keydown", F), document.removeEventListener("focusin", H), q(), W({ pointerEl: D, onPointerReset: function () { D = null } }), K = null) } function Q(e) { if (S("[data-sign-out]", e.target)) return e.preventDefault(), z(); var t, n, i, o = Y, a = document.getElementById("user-menu-trigger"); if (!o && a && a.contains(e.target)) return t = document.getElementById("user-menu-container"), n = document.getElementById("user-menu-pointer"), i = document.getElementById("user-menu-trigger"), void (t && n && i && (k && k(), O(), Y = !0, j({ pointerEl: n, triggerEl: i }), U({ triggerEl: i }), t.classList.add("shell-animated-menu--visible"), n.classList.add("shell-animated-menu__pointer--visible"), E(J), t.addEventListener("keydown", F), i.setAttribute("aria-expanded", "true"), i.addEventListener("keydown", F), D = n, K = i, document.addEventListener("focusin", H), R({ triggerEl: K, pointerEl: D, onCrossMobileThreshhold: J }), R({ triggerEl: K, handleResize: U }))); var r = document.getElementById("user-menu-container"); return o && r && !r.contains(e.target) ? J() : void 0 } var V = !1; function Z(e, t) { if ("function" == typeof e ? (t = e, e = {}) : e = e || {}, e.cache = void 0 === e.cache || e.cache, y() && e.cache) { var n = h(); return n ? (M(n), I(n, w())) : B(), b(), void (t && t()) } if (V) t && L(t); else { V = !0; var i = new XMLHttpRequest; i.open("GET", A() + "/api/session"), i.setRequestHeader("Accept", "application/json"), i.onerror = _, i.onload = function () { if (p = !0, 403 === i.status) B(); else if (200 !== i.status) B(), console.log(i.statusText); else { var e = JSON.parse(i.response); u = e, n = (function (e) { if (e && e.authorizations) for (var t = void 0, n = 0, i = e.authorizations.length; n < i; n++)if ("api" === (t = e.authorizations[n]).client && "pk" === t.usage && !0 === t.default) return t.token })(e), m = n, M(e), I(e), analytics.identify(e.id, { username: e.id, email: e.email }) } var n; document.addEventListener("click", Q), b(), t && t(), V = !1 }, i.withCredentials = !0, i.send() } } var G = "mouse", $ = "click", ee = 300, te = function () { }; function ne(e, t, i, o) { var a = !1, r = null, l = void 0, s = window.document; if (!e.hasAttribute("data-page-shell-hover-menu")) { e.setAttribute("data-page-shell-hover-menu", ""); var d = n(e, (function () { r !== $ && (clearTimeout(l), r = G, y()) }), (function () { })); e.addEventListener("mouseleave", L), e.addEventListener("keydown", B), i.addEventListener("mouseenter", S), i.addEventListener("mouseleave", L), i.addEventListener("keydown", B), s.addEventListener("click", x); var c, u = []; if ("ontouchstart" in document.documentElement) for (var m = document.body.childNodes, v = function (e, t) { var n = m[e]; n.addEventListener("mouseover", te), u.push((function () { n.removeEventListener("mouseover", te) })) }, g = 0, p = m.length; g < p; g++)v(g); c = function () { e.removeAttribute("data-page-shell-hover-menu"), d.remove(), e.removeEventListener("mouseleave", L), e.removeEventListener("keydown", B), i.removeEventListener("mouseenter", S), i.removeEventListener("mouseleave", L), i.removeEventListener("keydown", B), s.removeEventListener("click", x), u.forEach((function (e) { e() })) }, f.push(c) } function h(t) { e.contains(t.target) || i.contains(t.target) || b() } function y() { k && k(), O(), a || (a = !0, clearTimeout(l), j({ pointerEl: t, triggerEl: e }), w({ triggerEl: e, menuBodyContainerEl: i, menuBodyEl: o }), t.classList.add("shell-animated-menu__pointer--visible"), i.classList.add("shell-animated-menu--visible"), e.setAttribute("aria-expanded", "true"), E(b), s.addEventListener("focusin", h), R({ triggerEl: e, pointerEl: t, onCrossMobileThreshhold: b }), R({ triggerEl: e, pointerel: t, menuBodyContainerEl: i, menuBodyEl: o, handleResize: w })) } function w(e) { var t = e.triggerEl, n = e.menuBodyContainerEl, i = e.menuBodyEl, o = t.getBoundingClientRect(), a = o.left + o.width / 2; n.style.transformOrigin = Math.round(a) + "px 0"; var r = Math.max(10, Math.round(a - i.clientWidth / 2)); i.style.left = r + "px" } function b() { a && (a = !1, clearTimeout(l), r = null, t.classList.remove("shell-animated-menu__pointer--visible"), i.classList.remove("shell-animated-menu--visible"), e.setAttribute("aria-expanded", "false"), s.removeEventListener("focusin", h), q(), W({ pointerEl: t })) } function L() { r !== $ && (r = null, l = setTimeout((function () { a && null === r && b() }), ee)) } function S() { r !== $ && (clearTimeout(l), r = G) } function x(t) { var n = t.target; return t.target.getAttribute && t.target.getAttribute("data-nav-link") ? b() : i.contains(n) ? void 0 : e.contains(n) ? (function () { if (a && r === $) return b(); r = $, a || (clearTimeout(l), y()) })() : void b() } function B(t) { a && ("Escape" !== t.key && "Esc" !== t.key && 27 !== t.keyCode || (b(), e.focus())) } } var ie = !1; function oe() { if (ie) { var e = document.getElementById("page-shell"), t = document.getElementById("mobile-nav-backdrop"); e && t && (e.style.height = "", e.style.overflow = "", e.style.overflowX = "hidden", t.classList.remove("shell-mobile-nav__backdrop--visible"), ie = !1) } } var ae = window.document.createElement("div"), re = ["webkit", "moz", "o", "ms"], le = {}, se = !1, de = !1; function ce(e, t) { return e + ("" + (n = t).charAt(0).toUpperCase() + n.substr(1)); var n } function ue(e) { return e in (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window) } function me(e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ae; return e in n.style || !!t && re.some((function (t) { return me(ce(t, e)) })) } function ve(e, t) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : ae, o = n.allowPrefixedProp, a = n.allowPrefixedValue, r = !1; return (o || a) && (r = re.some((function (n) { return ve(o ? ce(n, e) : e, a ? "-" + n + "-" + t : t) }))), r || (i.style[e] = t, i.style[e] === t) } function fe() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ae; (le = { flexBox: me("flex", e, t) && ve("display", "flex", { allowPrefixedProp: !1, allowPrefixedValue: e }, t), viewportUnits: ve("width", "100vw", { allowPrefixedProp: !1, allowPrefixedValue: !1 }, t), visibilityState: ue("visibilityState", window.document), devicePixelRatio: ue("devicePixelRatio") }).doesCutMustard = Object.keys(le).every((function (e) { return le[e] })) } function ge() { var e = window.document.getElementById("page-shell-compatibility-dismiss"), t = window.document.getElementById("page-shell-compatibility-warning"); de = !0, se = !1, e && e.removeEventListener("click", ge), t && (t.style.display = "none"), window.localStorage && window.localStorage.setItem("suppress-browser-compatibility-warning", "true") } var pe = !1; function he() { window.matchMedia("(min-width: " + c + "px)").matches && we() } function ye() { var e = document.getElementById("mobile-nav-menu"), t = document.getElementById("page-header-content"); e && (pe = !0, e.classList.add("shell-animated-menu--visible"), t.classList.add("shell-mobile-nav--visible"), me("textOrientation", !0) || (document.querySelector(".shell-mobile-nav__trigger__bar--top").setAttribute("transform", "translate(6 -1) rotate(45)"), document.querySelector(".shell-mobile-nav__trigger__bar--bottom").setAttribute("transform", "translate(-6.5 6) rotate(-45)")), (function () { if (!ie) { var e = document.getElementById("page-shell"), t = document.getElementById("mobile-nav-menu"), n = document.getElementById("mobile-nav-backdrop"); if (t && e && n) { var i = Math.max(t.getBoundingClientRect().bottom + 120, window.innerHeight); e.style.height = String(i) + "px", e.style.overflow = "hidden", n.classList.add("shell-mobile-nav__backdrop--visible"), n.style.height = String(i - parseInt(n.style.top)) + "px", ie = !0 } } })(), window.addEventListener("resize", he)) } function we() { var e = document.getElementById("mobile-nav-menu"), t = document.getElementById("page-header-content"); e && (pe = !1, e.classList.remove("shell-animated-menu--visible"), t.classList.remove("shell-mobile-nav--visible"), me("textOrientation", !0) || (document.querySelector(".shell-mobile-nav__trigger__bar--top").setAttribute("transform", ""), document.querySelector(".shell-mobile-nav__trigger__bar--bottom").setAttribute("transform", "")), oe(), window.removeEventListener("resize", he)) } function be(e) { var t = document.getElementById("mobile-nav-trigger-toggle"), n = document.getElementById("mobile-nav-menu"), i = document.getElementById("page-header-content"); t && n && (e.target.getAttribute && e.target.getAttribute("data-nav-link") ? (document.documentElement.scrollTop = 0, document.body.scrollTop = 0, we()) : t.contains(e.target) ? pe ? we() : ye() : !pe || n.contains(e.target) || i.contains(e.target) || we()) } var Ee = !1; function ke() { if (!Ee) { Ee = !0; var e = document.querySelectorAll("[data-nav-trigger]"); if (0 !== e.length) { var t = void 0, n = void 0, i = void 0; for (i = 0; i < e.length; i++)n = (t = e[i]).getAttribute("data-nav-trigger"), ne(t, document.querySelector('[data-nav-pointer="' + n + '"]'), document.querySelector('[data-nav-menu="' + n + '"]'), document.querySelector('[data-nav-menu-body="' + n + '"]')); document.addEventListener("click", be) } } } function Le() { Ee && (Ee = !1, f.forEach((function (e) { e() })), f = [], oe(), we(), document.removeEventListener("click", be)) } var Se = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; !(function () { if (void 0 !== ("undefined" == typeof window ? "undefined" : Se(window))) { var e = window.analytics = window.analytics || []; if (!e.initialize) if (e.invoked) window.console && console.error && console.error("Segment snippet included twice."); else { e.invoked = !0, e.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on"], e.factory = function (t) { return function () { var n = Array.prototype.slice.call(arguments); return n.unshift(t), e.push(n), e } }; for (var t = 0; t < e.methods.length; t++) { var n = e.methods[t]; e[n] = e.factory(n) } e.load = function (t, n) { var i = document.createElement("script"); i.type = "text/javascript", i.async = !0, i.src = ("https:" === document.location.protocol ? "https://" : "http://") + "cdn.segment.com/analytics.js/v1/" + t + "/analytics.min.js"; var o = document.getElementsByTagName("script")[0]; o.parentNode.insertBefore(i, o), e._loadOptions = n }, e.SNIPPET_VERSION = "4.1.0" } var i = ["Segment.io", "Google Analytics", "Metrics", "Amazon Kinesis", "Amazon S3", "Customer.io"], o = !1; window.initializeMapboxAnalytics = function (t) { if (!o) { if (o = !0, (t = t || {}).sentry) { var n = t.sentry.sentryDsn, a = t.sentry.ravenOptions || {}; if (a.shouldSendCallback = !0, window.Raven) return; var r = document.createElement("script"); r.crossOrigin = "anonymous", r.type = "text/javascript"; var l = document.createTextNode("window.SENTRY_SDK = {url: 'https://cdn.ravenjs.com/3.26.4/raven.min.js', dsn: '" + n + "', options: " + JSON.stringify(a) + '}; (function (a, b, g, e, h) { var k = a.SENTRY_SDK, f = function (a) { f.data.push(a) }; f.data = []; var l = a[e]; a[e] = function (c, b, e, d, h) { f({ e: [].slice.call(arguments) }); l && l.apply(a, arguments) }; var m = a[h]; a[h] = function (c) { f({ p: c.reason }); m && m.apply(a, arguments) }; var n = b.getElementsByTagName(g)[0]; b = b.createElement(g); b.src = k.url; b.crossorigin = "anonymous"; b.addEventListener("load", function () { try { a[e] = l; a[h] = m; var c = f.data, b = a.Raven; b.config(k.dsn, k.options).install(); var g = a[e]; if (c.length) for (var d = 0; d < c.length; d++)c[d].e ? g.apply(b.TraceKit, c[d].e) : c[d].p && b.captureException(c[d].p) } catch (p) { console.log(p) } }); n.parentNode.insertBefore(b, n) })(window, document, "script", "onerror", "onunhandledrejection");'); r.appendChild(l), r.onerror = function (e) { console.log("Raven failed to initialize"), e && console.log(e) }, document.head.appendChild(r) } void 0 === t.marketoMunchkin && (t.marketoMunchkin = !0); for (var s = !0 === window.MapboxPageShellProduction || /mapbox\.com$/.test(window.location.hostname), d = t.segmentWriteKey || "fl0c8p240n", c = t.segmentWriteKeyStaging ? t.segmentWriteKeyStaging : t.segmentWriteKey ? t.segmentWriteKey : "0biiejpgfj", u = s ? d : c, m = { All: !1 }, v = 0; v < i.length; v++)m[i[v]] = !0; if (t.segmentIntegrations) for (var f in t.segmentIntegrations) t.segmentIntegrations.hasOwnProperty(f) && (m[f] = t.segmentIntegrations[f]); if (e.load(u, { integrations: m }), e.page(), t.marketoMunchkin) { var g = t.marketoMunchkinId || "117-NXK-490"; !(function () { var e = !1; function t() { !1 === e && (e = !0, Munchkin.init(g, { asyncOnly: !0 })) } var n = document.createElement("script"); n.type = "text/javascript", n.async = !0, n.src = "//munchkin.marketo.net/munchkin.js", n.onreadystatechange = function () { "complete" != this.readyState && "loaded" != this.readyState || t() }, n.onload = t, document.getElementsByTagName("head")[0].appendChild(n) })() } if (void 0 !== ("undefined" == typeof window ? "undefined" : Se(window)) && window.analytics && window.history && window.history.pushState && !window.pushStateAnalyticsInitialized) { var p; window.pushStateAnalyticsInitialized = !0; var h = window.history.pushState; window.history.pushState = function () { p = window.location.href, y({ clientSideRouting: "pushstate" }), h.apply(window.history, arguments) }, window.addEventListener("popstate", (function () { y({ clientSideRouting: "popstate" }) })) } } function y(e) { e = e || {}, setTimeout((function () { e.referrer = p, window.analytics.page(e), window._cio && window._cio.page && window._cio.page(window.location.href), window.Munchkin && window.Munchkin.munchkinFunction && window.Munchkin.munchkinFunction("visitWebPage", { url: window.location.pathname, params: window.location.search.replace(/^\?/, "") }), p = window.location.href }), 300) } } } })(); var xe = { isProduction: i, afterDomContentLoaded: o, hoverintent: n, appendFullscreenLoader: a, getMapboxAccessToken: function () { return i() ? s : d }, getUser: h, isUserChecked: y, onNextUserCheck: L, afterUserCheck: function (e) { y() ? e() : L(e) }, getUserPublicAccessToken: w, querySelectorContainsElement: S, signOut: z, checkSession: Z, createHoverMenu: ne, initializeNavigation: ke, removeNavigation: Le, initialize: function () { o((function () { Z(), Le(), ke(), (function () { if (null == le.doesCutMustard && fe(!0), !(de || le.doesCutMustard || "localStorage" in window && "true" === window.localStorage.getItem("suppress-browser-compatibility-warning"))) { var e = window.document.getElementById("page-shell-compatibility-warning"); if (e && (e.style.display = "block"), !se) { var t = window.document.getElementById("page-shell-compatibility-dismiss"); t && t.addEventListener("click", ge) } se = !0 } })() })) }, generateCompatibilitySummary: fe, getCompatibilitySummary: function () { return le } }; window.MapboxPageShell = xe, xe.initialize() })();