---
layout: docs
category: api
title: Mapbox GL JS API
navtitle: API
permalink: /api
navigation:
  - title: mapboxgl.Map
    url: /api
    id: new-mapboxgl-map-options-
    subnav:
    - title: Setting map state
      url: /api
      id: new-mapboxgl-map-options--setting-map-state
    - title: Map method options
      url: /api
      id: new-mapboxgl-map-options--map-method-options
    - title: Getting map state
      url: /api
      id: new-mapboxgl-map-options--getting-map-state
    - title: Working with sources
      url: /api
      id: new-mapboxgl-map-options--working-with-sources
    - title: Working with controls
      url: /api
      id: new-mapboxgl-map-options--working-with-controls
    - title: Events
      url: /api
      id: new-mapboxgl-map-options--events
  - title: mapboxgl.Source
    url: /api
    id: new-mapboxgl-source-options-
    subnav:
    - title: Methods
      url: /api
      id: new-mapboxgl-source-options--methods
    - title: Events
      url: /api
      id: new-mapboxgl-source-options--events
  - title: mapboxgl.GeoJSONSource
    url: /api
    id: new-mapboxgl-geojsonsource-options-
    subnav:
    - title: Methods
      url: /api
      id: new-mapboxgl-geojsonsource-options--methods
  - title: mapboxgl.VideoSource
    url: /api
    id: new-mapboxgl-videosource-options-
    subnav:
  - title: mapboxgl.Navigation
    url: /api
    id: new-mapboxgl-navigation-
    subnav:
  - title: mapboxgl.Evented
    url: /api
    id: mapboxgl-evented
    subnav:
    - title: Methods
      url: /api
      id: mapboxgl-evented-methods
  - title: mapboxgl.LatLng
    url: /api
    id: new-mapboxgl-latlng-latitude-longitude-
    subnav:
  - title: mapboxgl.LatLngBounds
    url: /api
    id: new-mapboxgl-latlngbounds-southwest-northeast-
    subnav:
    - title: Methods
      url: /api
      id: new-mapboxgl-latlngbounds-southwest-northeast--methods
  - title: mapboxgl.util.supported
    url: /api
    id: mapboxgl-util-supported-
    subnav:
  - title: mapboxgl.util.getJSON
    url: /api
    id: mapboxgl-util-getjson-url-callback-
    subnav:

---

<div class='round note pad1 small space-bottom'>Note, the following API documentation applies to <code>mapbox-gl-js</code>. For <code>mapbox-gl-cocoa</code> documentation and implementation instructions, view the <a href='https://github.com/mapbox/mapbox-gl-cocoa/blob/master/README.md'>readme</a>.</div>

<h1 id="mapbox-gl-js-api-documentation">Mapbox GL JS API Documentation</h1><h2 id="new-mapboxgl-map-options-">new mapboxgl.Map(options)</h2>{% highlight js %}var map = new mapboxgl.Map({
    container: 'map',
    center: [37.772537, -122.420679],
    zoom: 13,
    style: style_object,
    hash: true
});
{% endhighlight %}
<p>Create a map instance given an options object with the following properties:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>container</code></td>
<td>string</td>
<td>HTML element to initialize the map in (or element id as string)</td>
</tr>
<tr>
<td><code>minZoom</code></td>
<td>number</td>
<td>Minimum zoom of the map, 0 by default</td>
</tr>
<tr>
<td><code>maxZoom</code></td>
<td>number</td>
<td>Maximum zoom of the map, 20 by default</td>
</tr>
<tr>
<td><code>style</code></td>
<td>object</td>
<td>Map style and data source definition (either a JSON object or a JSON URL), described in the <a href="https://mapbox.com/mapbox-gl-style-spec">style reference</a></td>
</tr>
<tr>
<td><code>hash</code></td>
<td>boolean</td>
<td>If <code>true</code>, the map will track and update the page URL according to map position (default: <code>false</code>)</td>
</tr>
<tr>
<td><code>interactive</code></td>
<td>boolean</td>
<td>If <code>false</code>, no mouse, touch, or keyboard listeners are attached to the map, so it will not respond to input (default: <code>true</code>)</td>
</tr>
</tbody>
</table>
<p>Options that define the initial position of the map (if <code>hash</code> is set to <code>true</code>, the position will be set according to the URL and options will be used by default):</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>center</code></td>
<td>array</td>
<td>Latitude and longitude (passed as <code>[lat, lng]</code>)</td>
</tr>
<tr>
<td><code>zoom</code></td>
<td>number</td>
<td>Map zoom level</td>
</tr>
<tr>
<td><code>bearing</code></td>
<td>number</td>
<td>Map rotation bearing in degrees counter-clockwise from north</td>
</tr>
</tbody>
</table>
<h3 id="new-mapboxgl-map-options--setting-map-state">Setting map state</h3><p>The following methods set the state of the map without performing any animation.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>setView(center, zoom, bearing)</code></td>
<td>Set map position (center, zoom, bearing)</td>
</tr>
<tr>
<td><code>setCenter(latlng)</code></td>
<td>Center the map view on a location</td>
</tr>
<tr>
<td><code>setZoom(zoom)</code></td>
<td>Set the zoom level of the map</td>
</tr>
<tr>
<td><code>setBearing(bearing)</code></td>
<td>Sets map rotation angle in degrees</td>
</tr>
</tbody>
</table>
<p>The following methods set the state of the map with smooth animation.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>panTo(latlng, animOptions?)</code></td>
<td>Pan to a certain location with easing</td>
</tr>
<tr>
<td><code>panBy(offset, animOptions?)</code></td>
<td>Pan by a certain number of pixels (offset is [x, y])</td>
</tr>
<tr>
<td><code>zoomTo(zoom, animOptions?)</code></td>
<td>Zoom to a certain zoom level with easing</td>
</tr>
<tr>
<td><code>zoomIn(animOptions?)</code></td>
<td>Zoom in by 1 level</td>
</tr>
<tr>
<td><code>zoomOut(animOptions?)</code></td>
<td>Zoom out by 1 level</td>
</tr>
<tr>
<td><code>flyTo(latlng, zoom?, bearing?, flyOptions?)</code></td>
<td>Flying animation to a specified location/zoom/bearing with automatic curve</td>
</tr>
<tr>
<td><code>fitBounds(bounds, fitBoundsOptions?)</code></td>
<td>Zoom to contain certain geographical bounds (<code>[[minLat, minLng], [maxLat, maxLng]]</code>)</td>
</tr>
<tr>
<td><code>rotateTo(bearing, animOptions?)</code></td>
<td>Rotate bearing by a certain number of degrees with easing</td>
</tr>
<tr>
<td><code>resetNorth(animOptions?)</code></td>
<td>Sets map bearing to 0 (north) with easing</td>
</tr>
<tr>
<td><code>stop()</code></td>
<td>Stop current animation</td>
</tr>
<tr>
<td><code>resize()</code></td>
<td>Detect the map container&#39;s new width and height and resize the map to fit</td>
</tr>
<tr>
<td><code>setStyle(style)</code></td>
<td>Replaces the map&#39;s style object</td>
</tr>
</tbody>
</table>
<h3 id="new-mapboxgl-map-options--map-method-options">Map method options</h3><table>
<thead>
<tr>
<th>Object</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>animOptions</code></td>
<td>An object with <code>duration</code> (Number in ms), <code>easing</code> (function), <code>offset</code> (point, origin of movement relative to map center) and <code>animate</code> (when set to false, no animation happens) options</td>
</tr>
<tr>
<td><code>flyOptions</code></td>
<td>An object with <code>speed</code> (<code>1.2</code> by default, how fast animation occurs), <code>curve</code> (<code>1.42</code> by default, defines how much zooming out occurs during animation), and <code>easing</code> (function) options</td>
</tr>
<tr>
<td><code>fitBoundsOptions</code></td>
<td>The same as flyOptions with the additional <code>padding</code> (number, defines how much padding there is around the given bounds on each side in pixels) and <code>maxZoom</code> (number) options</td>
</tr>
</tbody>
</table>
<h3 id="new-mapboxgl-map-options--getting-map-state">Getting map state</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getBounds()</code></td>
<td>Get the map&#39;s geographical bounds (as <code>LatLngBounds</code> object)</td>
</tr>
<tr>
<td><code>getCenter()</code></td>
<td>Get the current view geographical point (as <code>LatLng</code> object)</td>
</tr>
<tr>
<td><code>getZoom()</code></td>
<td>Get the current zoom</td>
</tr>
<tr>
<td><code>getBearing()</code></td>
<td>Get the current bearing in degrees</td>
</tr>
<tr>
<td><code>project(latlng)</code></td>
<td>Get pixel coordinates (relative to map container) given a geographical location</td>
</tr>
<tr>
<td><code>unproject(point)</code></td>
<td>Get geographical coordinates given pixel coordinates</td>
</tr>
<tr>
<td><code>featuresAt(point, params, callback)</code></td>
<td>Get all features at a point ([x, y]) where params is <code>{radius, layer, type, geometry}</code> (all optional, radius is 0 by default)</td>
</tr>
</tbody>
</table>
<p><em>Example:</em></p>
{% highlight js %}// get all features at a point within a certain radius
map.featuresAt([100, 100], {
    radius: 30,          // radius in pixels to search in
    bucket: 'bucketname' // optional - if set, only features from that bucket will be matched
}, callback);
{% endhighlight %}
<h3 id="new-mapboxgl-map-options--working-with-sources">Working with sources</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>addSource(id, source)</code></td>
<td>Adds a data source to the map, specifying associated string id</td>
</tr>
<tr>
<td><code>removeSource(id)</code></td>
<td>Removes a data source from the map given the id that was used when adding</td>
</tr>
</tbody>
</table>
<h3 id="new-mapboxgl-map-options--working-with-controls">Working with controls</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>addControl(control)</code></td>
<td>Adds a control to the map</td>
</tr>
</tbody>
</table>
<h3 id="new-mapboxgl-map-options--events">Events</h3><table>
<thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>move</code></td>
<td>Fired during any movement of the map (panning, zooming, rotation, etc.)</td>
</tr>
<tr>
<td><code>movestart</code></td>
<td>Fired on start of any movement of the map</td>
</tr>
<tr>
<td><code>moveend</code></td>
<td>Fired after movement of the map, when it becomes idle</td>
</tr>
<tr>
<td><code>zoom</code></td>
<td>Fired when the map zoom changes</td>
</tr>
<tr>
<td><code>rotate</code></td>
<td>Fired when the map bearing changes</td>
</tr>
<tr>
<td><code>click(point)</code></td>
<td>Fired on map click</td>
</tr>
<tr>
<td><code>hover(point)</code></td>
<td>Fired when the mouse moves over the map</td>
</tr>
<tr>
<td><code>resize</code></td>
<td>Fired when the map changes size</td>
</tr>
<tr>
<td><code>source.add(source)</code></td>
<td>Fired when a data source is added</td>
</tr>
<tr>
<td><code>source.remove(source)</code></td>
<td>Fired when a data source is removed</td>
</tr>
</tbody>
</table>
<h2 id="new-mapboxgl-source-options-">new mapboxgl.Source(options)</h2>{% highlight js %}var sourceObj = new mapboxgl.Source({
    type: 'vector',
    url: 'mapbox://mapbox.mapbox-streets-v5'
});
map.addSource('some id', sourceObj); // add
map.removeSource('some id');  // remove
{% endhighlight %}
<p>Create a tiled data source instance given an options object with the following properties:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type</code></td>
<td>Either <code>&#39;raster&#39;</code> or <code>&#39;vector&#39;</code></td>
</tr>
<tr>
<td><code>url</code></td>
<td>A tile source URL. This should either be <code>mapbox://{mapid}</code> or a full <code>http[s]</code> url that points to a TileJSON endpoint.</td>
</tr>
<tr>
<td><code>tiles</code></td>
<td>An array of tile sources. If <code>url</code> is not specified, <code>tiles</code> can be used instead to specify tile sources, as in the TileJSON spec. Other TileJSON keys such as <code>minzoom</code> and <code>maxzoom</code> can be specified in a source object if <code>tiles</code> is used.</td>
</tr>
<tr>
<td><code>id</code></td>
<td>Optional id to assign to the source</td>
</tr>
<tr>
<td><code>tileSize</code></td>
<td>Optional tile size (width and height in pixels, assuming tiles are square). Defaults to 512; only configurable for raster sources.</td>
</tr>
<tr>
<td><code>cacheSize</code></td>
<td>Optional max number of tiles to cache at any given time</td>
</tr>
</tbody>
</table>
<h3 id="new-mapboxgl-source-options--methods">Methods</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>update()</code></td>
<td>Update tiles according to the viewport and render</td>
</tr>
<tr>
<td><code>render()</code></td>
<td>Render every existing tile</td>
</tr>
<tr>
<td><code>stats()</code></td>
<td>Return an object with tile statistics</td>
</tr>
<tr>
<td><code>featuresAt(point, params, callback)</code></td>
<td>Get all features at a point where params is {radius, bucket, type, geometry} (all optional, radius is 0 by default)</td>
</tr>
</tbody>
</table>
<h3 id="new-mapboxgl-source-options--events">Events</h3><table>
<thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tile.add(tile)</code></td>
<td>Fired when a tile is added to the map</td>
</tr>
<tr>
<td><code>tile.load(tile)</code></td>
<td>Fired when a tile is loaded</td>
</tr>
<tr>
<td><code>tile.remove(tile)</code></td>
<td>Fired when a tile is removed from the map</td>
</tr>
</tbody>
</table>
<h2 id="new-mapboxgl-geojsonsource-options-">new mapboxgl.GeoJSONSource(options)</h2>{% highlight js %}var sourceObj = new mapboxgl.GeoJSONSource({
    data: {
        "type": "FeatureCollection",
        "features": [{
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -76.53063297271729,
                    39.18174077994108
                ]
            }
        }]
    }
});
map.addSource('some id', sourceObj); // add
map.removeSource('some id');  // remove
{% endhighlight %}
<p>Create a GeoJSON data source instance given an options object with the following properties:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data</code></td>
<td>A GeoJSON data object or an URL to it. The latter is preferable in case of large GeoJSON files.</td>
</tr>
</tbody>
</table>
<h3 id="new-mapboxgl-geojsonsource-options--methods">Methods</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>setData(data)</code></td>
<td>Update source geojson data and rerender map</td>
</tr>
</tbody>
</table>
<h2 id="new-mapboxgl-videosource-options-">new mapboxgl.VideoSource(options)</h2>{% highlight js %}var sourceObj = new mapboxgl.VideoSource({
    url: [
        'https://www.mapbox.com/videos/baltimore-smoke.mp4',
        'https://www.mapbox.com/videos/baltimore-smoke.webm'
    ],
    coordinates: [
        [39.18579907229748, -76.54335737228394],
        [39.1838364847587, -76.52803659439087],
        [39.17683392507606, -76.5295386314392],
        [39.17876344106642, -76.54520273208618]
    ]
});
map.addSource('some id', sourceObj); // add
map.removeSource('some id');  // remove
{% endhighlight %}
<p>Create a Video data source instance given an options object with the following properties:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td>A string or array of URL(s) to video files</td>
</tr>
<tr>
<td><code>coordinates</code></td>
<td>lat,lng coordinates in order clockwise starting at the top left: tl, tr, br, bl</td>
</tr>
</tbody>
</table>
<h2 id="new-mapboxgl-navigation-">new mapboxgl.Navigation()</h2><p>Creates a navigation control with zoom buttons and a compass.</p>
{% highlight js %}map.addControl(new mapboxgl.Navigation());
{% endhighlight %}
<h2 id="mapboxgl-evented">mapboxgl.Evented</h2><p>A class inherited by most other classes (<code>Map</code>, <code>Source</code> etc.) to get event capabilities.</p>
<h3 id="mapboxgl-evented-methods">Methods</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fire(type, data?)</code></td>
<td>Fire event of a given string type with the given data object</td>
</tr>
<tr>
<td><code>on(type, listener)</code></td>
<td>Subscribe to a specified event with a listener function the latter gets the data object that was passed to <code>fire</code> and additionally <code>target</code> and <code>type</code> properties.</td>
</tr>
<tr>
<td><code>off(type?, listener?)</code></td>
<td>Remove a listener; remove all listeners of a type if listener is not specified remove all listeners if no arguments specified.</td>
</tr>
<tr>
<td><code>listens(type)</code></td>
<td>Returns true if the object listens to an event of a particular type</td>
</tr>
</tbody>
</table>
<h2 id="new-mapboxgl-latlng-latitude-longitude-">new mapboxgl.LatLng(latitude, longitude)</h2>{% highlight js %}var latlng = new mapboxgl.LatLng(37.76, -122.44);
{% endhighlight %}
<p>A representation of a latitude and longitude point, in degrees.
Create a latitude, longitude object from a given latitude and longitude pair in degrees.</p>
<h2 id="new-mapboxgl-latlngbounds-southwest-northeast-">new mapboxgl.LatLngBounds([southwest, northeast])</h2>{% highlight js %}var latlng = new mapboxgl.LatLng([[37.70,-122.51],[37.83,-122.35]]);
{% endhighlight %}
<p>A representation of rectangular box on the earth, defined by its southwest
and northeast points in latitude and longitude
Creates a bounding box from the given pair of points. <code>southwest</code> and <code>northeast</code> can be ommitted to create a null bounding box.</p>
<h3 id="new-mapboxgl-latlngbounds-southwest-northeast--methods">Methods</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>extend(latlng)</code></td>
<td>Enlarge the bounds to include a given point</td>
</tr>
<tr>
<td><code>getCenter()</code></td>
<td>Get the point equidistant from this box&#39;s corners, as a <code>LatLng</code> object</td>
</tr>
<tr>
<td><code>getSouthWest()</code></td>
<td>Get the southwest corner as a <code>LatLng</code> object</td>
</tr>
<tr>
<td><code>getSouthEast()</code></td>
<td>Get the southeast corner as a <code>LatLng</code> object</td>
</tr>
<tr>
<td><code>getNorthWest()</code></td>
<td>Get the northwest corner as a <code>LatLng</code> object</td>
</tr>
<tr>
<td><code>getNorthEast()</code></td>
<td>Get the northeast corner as a <code>LatLng</code> object</td>
</tr>
<tr>
<td><code>getNorth()</code></td>
<td>Get the north edge&#39;s latitude as a number</td>
</tr>
<tr>
<td><code>getSouth()</code></td>
<td>Get the south edge&#39;s latitude as a number</td>
</tr>
<tr>
<td><code>getWest()</code></td>
<td>Get the south edge&#39;s longitude as a number</td>
</tr>
<tr>
<td><code>getEast()</code></td>
<td>Get the south edge&#39;s longitude as a number</td>
</tr>
</tbody>
</table>
<h2 id="mapboxgl-util-supported-">mapboxgl.util.supported()</h2>{% highlight js %}if (!mapboxgl.util.supported()) {
    console.log('Your browser does not support Mapbox GL');
}
{% endhighlight %}
<p>Tests whether the basic JavaScript and DOM features required for Mapbox GL are present. Returns true if Mapbox GL should be expected to work, and false if not.</p>
<h2 id="mapboxgl-util-getjson-url-callback-">mapboxgl.util.getJSON(url, callback)</h2>{% highlight js %}mapboxgl.util.getJSON('https://www.mapbox.com/mapbox-gl-styles/styles/outdoors-v3.json', function (err, style) {
    if (err) throw err;
    map.setStyle(style);
});
{% endhighlight %}
<p>Get JSON data from a url.</p>
